<!DOCTYPE html>
<html>
<head>
	<title>Maverick</title>
</head>
<body>
	<style type="text/css">
		#ocean {
			background-image: url("ocean.jpg");
			width: 900px;
			height: 700px;

		}
		.player{
			position: absolute;
			background-image: url("player.png");
			width: 70px;
			height: 75px;

		}
		.enemy{
			position: absolute;
			background-image: url("enemy.png");
			width: 70px;
			height: 75px;

		}
		.missile{
			position: absolute;
			background-color: green;
			width: 2px;
			height: 10px;
	</style>


	<div id="ocean">
		<div id="players"></div>
		<div id="ememies"></div>
		<div id="missiles"></div>
	</div>

	


	<script type="text/javascript">
		var player = {
			left: 450,
			top: 620 
		}
		// this is causing issues for me everytime
		//var ememies = [
			//{left: 350, top: 200},
			//{left: 450, top: 250},
			//{left: 550, top: 220},
			//{left: 570, top: 280}  
		//]

		var missile = []

		function drawPlayer() {
			content = "<div class='player' style = 'left:"+player.left+"px; top:"+player.top+"px'></div>";

			document.getElementById("players").innerHTML = 
			content; 
		}

		function drawEnemies() {
			content = "";
			console.log (ememies);
			for(var idx=0; idx<ememies.length; idx++){
			content += "<div class='enemy' style= 'left:"+enemies[idx].left+"px; top:"+enemies[idx].top+"px'></div>";
		}

			document.getElementById("ememies").innerHTML = content;

		}

		function drawMissiles() {
			content = "";
			for(var idx=0; idx<missiles.length; idx++){
				content += "<div class ='missile' style='left:"+missiles[idx].left+"px; top: "+missiles[idx].top+"px'></div>"
			}
			document.getElementById("missiles").innerHTML = content;
		}

		function moveEmemies(){
			for(var idx=0; idx<ememies.length; idx++){
				ememies[idx].top = ememies[idx].top + 20;
			}
		}

		function moveMissiles(){
			for(var idx=0; idx<missiles.length; idx++){
				missiles[idx].top = missiles[idx].top - 15;
			}

		document.onkeydown = function(e){
				if(e.keyCode == 37){
				player.left = player.left - 10;
			}

				if(e.keyCode == 38 && player.top > 400){
					player.top = player.top -10;
				}
				if(e.keyCode == 40 && player.top < 625){
					player.top = player.top +10;
				}

				if(e.keyCode == 39){
					player.left = player.left + 10;
				}
				if(e.keyCode == 32){ // fire
					missiles.push({left: (player.left + 34), top: (player.top - 8)})
					drawMissiles()
				}

		drawPlayer();
						
		}

		function gameLoop(){
			drawPlayer();
			moveEmemies();
			drawEnemies();
			moveMissiles();
			drawMissiles();

			setTimeout(gameLoop, 1000)
			}
			gameLoop

	</script>
		
		
</body>
</html>
